<!DOCTYPE html>
<html lang="en">

<head>
  
    <link rel="stylesheet" href="./static/style.css">

    <script src="./static/ftar_view3.js"> </script>
     <!--<script src="./static/ftar_lipsync_file.js"> </script> -->
   

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flexatar Demo Page</title>
    <style>
        table {
            border-collapse: collapse;
        }
        td {
            border: 2px solid black;
            text-align: center;
            vertical-align: middle;
            padding: 3px;
            margin: 0px;
        }
       
    </style>
</head>

<body>
    <h1>Flexatar Demo Page</h1>
    <h2>Demonstrates how to integrate the Flexatar SDK into your website.</h2>
    <p>In testing mode, you wonâ€™t be charged for Flexatar creation, but the Flexatar will include a watermark. We do not guarantee Flexatar creation in testing mode, and the rules may change. Therefore, do not use testing mode in production.</p>
    
    <h2>You need API secret to make it works.</h2>
    <a href="https://flexatar-sdk.com">Get API Secret</a>
    <p>Create file with name ".env" and content FLEXATAR_API_SECRET=`your api key` in root folder of repository.</p>

    <h2>Integrate virtual camera. Follow this example.</h2>
    <h3>Create subscription for you client/user.</h3>
    <button id="buySybscription">Buy Subscription</button>
    <button id="refreshList">Refresh List</button>
   
    <h3>Clicking "v-cam" button you will obtain user token and will run our SDK using it.</h3>

    <div id="subscriptionListHolder" ></div>
    <br>
    <div id="logsHolder"></div>



    <button id="showMoreButton" style="display: none;">Show More</button>

   
    <br>
    <table id="vCamTable" style="display: none;">
        <tr>
            <td>Your Audio</td>
            <td>Flexatar SDK </td>
            <td>Your Video Element <br>(to see the video create at least one flexatar)</td>
        </tr>
        <tr>
            <td >
                <span id="buttonContainer" style="display: flex; gap:20px; flex-direction: column;">
                    <button id="micButton" style="display: block;">Microphone</button>
                    <!-- <span id="spButContainer" style="width: 100px;height: 50px; display: inline-block;"> -->
                        <button id="speakButton" style="display: block;">Audio File</button>
                    <!-- </span> -->
                    <button id="stopButton" style="display: block;">STOP</button>
                </span>
               
            </td>
            <td> 
                <div id="iframeHolder" style="width: 70px;height: 320px; display: block; "></div>
            </td>
            <td> 
                <video id="videoFromIframe" playsinline autoplay loop style="width: 240; height:320px;"></video>
            </td>
        </tr>
    </table>
    <button id="vcamExternalControls" style="display: none;">Show V-Cam External Controls</button>
    <br>
    <span id="vCamExternalControl" style="display: none;">
        <div id="vCamMakeFtarButtonHolder" >Make flexatar:</div>
        <span>
            Choose flexatar:
            <div id="vCamFtarListHolder" ></div>
        </span>
        <div id="vCamEmoListHolder" >Choose animation:</div>
        <div id="vCamEffectPanelHolder">Effect controls:</div>
        <div id="loadBackgroundHolder" >Set background:</div>
        <button id="reloadFlexatarList">Reload Flexatar List</button>
    </span>
   
   <button id="connectVirtualCameraButton" style="display: none;">
        Virtual Camera
   </button>

    <div id="vGenHolder" ></div>
   
    <h2>Virtual Camera Plug-In</h2>
    <p>Embed virtual camera plugin in your system.
        <a href="https://github.com/dmisol/flexatar-virtual-webcam/tree/main/vcam-interface">Know more ...</a>
    </p>
    <span id="vCamPluginContainer">
            <p>
            <a href="https://vgen.flexatar-sdk.com">Get flexatar virtual camera plugin url.</a>
        </p>
        <label for="vcamPluginUrl">Plugin URL:</label>
        <!-- <input type="text" id="vcamPluginUrl" value="https://flexatar-sdk.com/vcam-plugin/index.html"/> -->
        <input type="text" id="vcamPluginUrl" value="/vcam-plugin"/>
        <!-- <input type="text" id="vcamPluginUrl" value="http://localhost:5173/"/> -->
        <button id="setupConnection" >INSTALL</button>
        
    </span>
    
     <span id="vCamOutput" style="display: none;">
        <span>
            <p>Virtual Camera Iframe:</p>
            <iframe id="vcamPluginIframe" ></iframe>
            
        </span>
        <button id="connectVcamMedia" style="height: 30px;">CONNECT</button>
        <span>
            <p>Virtual Camera output:</p>
        
            <span id="pluginVideoHolder"></span>
        </span>
        
        <!-- <video id="videoFromVCam" playsinline autoplay loop style="width: 240; height:320px;"></video> -->
     </span>
   
     <span style="height: 200px;"></span>

    <!-- <div id="iframeHolder1" style="width: 70px;height: 320px; display: inline-block;"></div>
    <video id="videoFromIframe1" playsinline autoplay loop></video> -->


    <script src="./bundle.js"> </script>
</body>

</html> 